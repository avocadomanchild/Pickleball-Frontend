{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bench\\\\OneDrive\\\\Documents\\\\Travel App\\\\react-website-v1\\\\src\\\\components\\\\pages\\\\Login.jsx\";\n// import React, { useState } from \"react\";\n// import logo from './logo.svg';\n// import './App.css';\n\n// export const Login = (props) => {\n//     const [email, setEmail] = useState('');\n\n// import { withRouter } from 'react-router-dom';\n// import React, { Component,useContext,useState } from 'react';\n// import { Formik, Form, Field, ErrorMessage } from 'formik';\n// import * as Yup from 'yup';\n// import axios from 'axios';\n// import { LoginContext } from '../context_state/login_state';\n\n// /// added for the state of the login \n// // const {loggedIn,setLoggedIn} = useContext(LoginContext)\n\n// const initialValues = {\n\n//   username: '',\n//   password: ''\n// };\n\n// const validationSchema = Yup.object({\n//   username: Yup.string().required('Required'),\n//   password: Yup.string().required('Required')\n//   ,\n// });\n// // const { loggedIn, setLoggedIn } = useContext(LoginContext);\n\n// class Login extends Component {\n//     onSubmit = async (values, { setFieldError }) => {\n//         console.log('Form data', values);\n//         try {\n\n//             const response = await axios.post('http://localhost:8080/auth', values);\n//             console.log(response)\n//             // setLoggedIn(true);\n//             // console.log(loggedIn)\n//             this.props.history.push('/');\n\n//             // Do something with the response\n//             } catch (error) {\n//               console.log(error.response.data)\n\n//               if (error.response.data.includes(\"Invalid Password\")) {\n//                 setFieldError(\"password\", \"Invalid password.\");\n//               }\n\n//               else if (error.response.data.includes(\"Invalid Password\")) {\n//                 setFieldError(\"password\", \"Invalid password.\");\n//               }\n\n//               else{\n//                 setFieldError(\"password\", \"Invalid Password or Username.\");\n//               }\n//             }\n//         };\n//     render() {\n//         return (\n//           <div className=\"auth-form-container\">\n//             <h2>Login</h2>\n//             <Formik \n//             initialValues={initialValues}\n//             validationSchema={validationSchema}\n\n//             onSubmit={this.onSubmit}\n\n//             className=\"formik-form\"\n//             >\n//             <Form >\n//               <div className=\"form-control\">\n//                 <label htmlFor=\"username\">Username</label>\n//                 <Field type=\"username\" id=\"username\" name=\"username\"  placeholder=\"Username\"/>\n//                 <ErrorMessage name=\"username\" component=\"div\" className=\"error\"/>\n//               </div>\n//               <div className=\"form-control\">\n//                 <label htmlFor=\"password\">Password</label>\n//                 <Field type=\"password\" id=\"password\" name=\"password\" placeholder=\"********\" />\n//                 <ErrorMessage name=\"password\" component=\"div\" className=\"error-password\"/>\n//               </div>\n//               <button  type=\"submit\">Submit</button>\n//             </Form>\n//           </Formik>\n//           <button className=\"link-btn\" onClick={() => this.props.onFormSwitch('register')}>Don't have an account? Register here.</button>\n//           </div>\n//         );\n//       }\n//     } \n// export default withRouter(Login)\n\nimport React, { useContext } from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport axios from 'axios';\nimport { LoginContext } from '../context_state/login_state';\nimport { useHistory } from 'react-router-dom';\nconst initialValues = {\n  username: '',\n  password: ''\n};\nconst validationSchema = Yup.object({\n  username: Yup.string().required('Required'),\n  password: Yup.string().required('Required')\n});\nconst Login = () => {\n  const history = useHistory();\n  const {\n    loggedIn,\n    setLoggedIn\n  } = useContext(LoginContext);\n  const onSubmit = async (values, _ref) => {\n    let {\n      setFieldError\n    } = _ref;\n    console.log('Form data', values);\n    try {\n      const response = await axios.post('http://localhost:8080/auth', values);\n      console.log(response);\n      setLoggedIn(true);\n      console.log(loggedIn);\n      history.push('/');\n    } catch (error) {\n      console.log(error.response.data);\n      if (error.response.data.includes('Invalid Password')) {\n        setFieldError('password', 'Invalid password.');\n      } else {\n        setFieldError('password', 'Invalid Password or Username.');\n      }\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"auth-form-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Formik, {\n    initialValues: initialValues,\n    validationSchema: validationSchema,\n    onSubmit: onSubmit,\n    className: \"formik-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(Field, {\n    type: \"username\",\n    id: \"username\",\n    name: \"username\",\n    placeholder: \"Username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(ErrorMessage, {\n    name: \"username\",\n    component: \"div\",\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Field, {\n    type: \"password\",\n    id: \"password\",\n    name: \"password\",\n    placeholder: \"********\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(ErrorMessage, {\n    name: \"password\",\n    component: \"div\",\n    className: \"error-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 11\n    }\n  }, \"Submit\"))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"link-btn\",\n    onClick: () => this.propsonFormSwitch('register'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }\n  }, \"Don't have an account? Register here.\"));\n};\nexport default Login;","map":{"version":3,"names":["React","useContext","Formik","Form","Field","ErrorMessage","Yup","axios","LoginContext","useHistory","initialValues","username","password","validationSchema","object","string","required","Login","history","loggedIn","setLoggedIn","onSubmit","values","_ref","setFieldError","console","log","response","post","push","error","data","includes","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","id","name","placeholder","component","onClick","propsonFormSwitch"],"sources":["C:/Users/bench/OneDrive/Documents/Travel App/react-website-v1/src/components/pages/Login.jsx"],"sourcesContent":["// import React, { useState } from \"react\";\r\n// import logo from './logo.svg';\r\n// import './App.css';\r\n\r\n// export const Login = (props) => {\r\n//     const [email, setEmail] = useState('');\r\n\r\n\r\n\r\n// import { withRouter } from 'react-router-dom';\r\n// import React, { Component,useContext,useState } from 'react';\r\n// import { Formik, Form, Field, ErrorMessage } from 'formik';\r\n// import * as Yup from 'yup';\r\n// import axios from 'axios';\r\n// import { LoginContext } from '../context_state/login_state';\r\n\r\n\r\n\r\n// /// added for the state of the login \r\n// // const {loggedIn,setLoggedIn} = useContext(LoginContext)\r\n\r\n// const initialValues = {\r\n\r\n//   username: '',\r\n//   password: ''\r\n// };\r\n\r\n// const validationSchema = Yup.object({\r\n//   username: Yup.string().required('Required'),\r\n//   password: Yup.string().required('Required')\r\n//   ,\r\n// });\r\n// // const { loggedIn, setLoggedIn } = useContext(LoginContext);\r\n\r\n// class Login extends Component {\r\n//     onSubmit = async (values, { setFieldError }) => {\r\n//         console.log('Form data', values);\r\n//         try {\r\n\r\n//             const response = await axios.post('http://localhost:8080/auth', values);\r\n//             console.log(response)\r\n//             // setLoggedIn(true);\r\n//             // console.log(loggedIn)\r\n//             this.props.history.push('/');\r\n\r\n            \r\n//             // Do something with the response\r\n//             } catch (error) {\r\n//               console.log(error.response.data)\r\n\r\n//               if (error.response.data.includes(\"Invalid Password\")) {\r\n//                 setFieldError(\"password\", \"Invalid password.\");\r\n//               }\r\n\r\n//               else if (error.response.data.includes(\"Invalid Password\")) {\r\n//                 setFieldError(\"password\", \"Invalid password.\");\r\n//               }\r\n\r\n//               else{\r\n//                 setFieldError(\"password\", \"Invalid Password or Username.\");\r\n//               }\r\n//             }\r\n//         };\r\n//     render() {\r\n//         return (\r\n//           <div className=\"auth-form-container\">\r\n//             <h2>Login</h2>\r\n//             <Formik \r\n//             initialValues={initialValues}\r\n//             validationSchema={validationSchema}\r\n\r\n//             onSubmit={this.onSubmit}\r\n\r\n//             className=\"formik-form\"\r\n//             >\r\n//             <Form >\r\n//               <div className=\"form-control\">\r\n//                 <label htmlFor=\"username\">Username</label>\r\n//                 <Field type=\"username\" id=\"username\" name=\"username\"  placeholder=\"Username\"/>\r\n//                 <ErrorMessage name=\"username\" component=\"div\" className=\"error\"/>\r\n//               </div>\r\n//               <div className=\"form-control\">\r\n//                 <label htmlFor=\"password\">Password</label>\r\n//                 <Field type=\"password\" id=\"password\" name=\"password\" placeholder=\"********\" />\r\n//                 <ErrorMessage name=\"password\" component=\"div\" className=\"error-password\"/>\r\n//               </div>\r\n//               <button  type=\"submit\">Submit</button>\r\n//             </Form>\r\n//           </Formik>\r\n//           <button className=\"link-btn\" onClick={() => this.props.onFormSwitch('register')}>Don't have an account? Register here.</button>\r\n//           </div>\r\n//         );\r\n//       }\r\n//     } \r\n// export default withRouter(Login)\r\n\r\n\r\n\r\nimport React, { useContext } from 'react';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport axios from 'axios';\r\nimport { LoginContext } from '../context_state/login_state';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst initialValues = {\r\n  username: '',\r\n  password: ''\r\n};\r\n\r\nconst validationSchema = Yup.object({\r\n  username: Yup.string().required('Required'),\r\n  password: Yup.string().required('Required')\r\n});\r\n\r\nconst Login = () => {\r\n  const history = useHistory();\r\n  const { loggedIn, setLoggedIn } = useContext(LoginContext);\r\n\r\n  const onSubmit = async (values, { setFieldError }) => {\r\n    console.log('Form data', values);\r\n    try {\r\n      const response = await axios.post('http://localhost:8080/auth', values);\r\n      console.log(response);\r\n      setLoggedIn(true);\r\n      console.log(loggedIn);\r\n      history.push('/');\r\n    } catch (error) {\r\n      console.log(error.response.data);\r\n      if (error.response.data.includes('Invalid Password')) {\r\n        setFieldError('password', 'Invalid password.');\r\n      } else {\r\n        setFieldError('password', 'Invalid Password or Username.');\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth-form-container\">\r\n      <h2>Login</h2>\r\n      <Formik\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={onSubmit}\r\n        className=\"formik-form\"\r\n      >\r\n        <Form>\r\n          <div className=\"form-control\">\r\n            <label htmlFor=\"username\">Username</label>\r\n            <Field type=\"username\" id=\"username\" name=\"username\" placeholder=\"Username\" />\r\n            <ErrorMessage name=\"username\" component=\"div\" className=\"error\" />\r\n          </div>\r\n          <div className=\"form-control\">\r\n            <label htmlFor=\"password\">Password</label>\r\n            <Field type=\"password\" id=\"password\" name=\"password\" placeholder=\"********\" />\r\n            <ErrorMessage name=\"password\" component=\"div\" className=\"error-password\" />\r\n          </div>\r\n          <button type=\"submit\">Submit</button>\r\n        </Form>\r\n      </Formik>\r\n      <button className=\"link-btn\" onClick={() => this.propsonFormSwitch('register')}>\r\n        Don't have an account? Register here.\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}